<!DOCTYPE html>
<html>

    <head>

        <meta charset="UTF-8">
    
        <title>Rock Paper Scissors!</title>
    
    </head>
    <body>

    <script>

        let computerSelection = 0;
        let playerSelection = 0;
        let computerScore = 0;
        let playerScore = 0;

             //  This function lets the computer pick a number 
             //  and then convert it into either rock, paper och scissors

        function computerPlay() {
            computerSelection = Math.random();
            if (computerSelection < 0.34) {
                computerSelection = 'rock';
            } else if (computerSelection <= 0.67) {
                computerSelection = 'paper';
            } else {
                computerSelection = 'scissors';
            }
            return computerSelection;
            }

            //  The user enters 'rock', 'paper' or 'scissors' as a parameter

        function playRound(playerSelection) {

            //  This line accounts for case sensitivity
            playerSelection = playerSelection.toLowerCase();

            // The computer picks an option using the computerPlay function

            computerPlay();

            console.log('The computer picked ' + computerSelection + '!');
            console.log('You picked ' + playerSelection + "!");

            //  Game mechanics 

            if (playerSelection === 'rock') {
                if (computerSelection =='rock') {
                    return "This round is a draw!";

                } else if (computerSelection === 'paper'){
                    computerScore++;
                    return "You lose this round!";
                } else 
                    playerScore++;
                    return "You win this round!";

            } else if (playerSelection === 'paper') {
                if (computerSelection === 'rock') {
                    playerScore++;
                    return "You win this round!";
                } else if (computerSelection === 'paper' ){  
                    return "This round is a draw!";

                } else 
                    computerScore++;
                    return "You lose this round!";

            } else if (playerSelection === 'scissors') {
                if (computerSelection === 'rock' ) {
                    playerScore++;
                    return "You win this round!";
                } else if (computerSelection === 'paper' ){ 
                    computerScore++;
                    return "You lose this round!";
                } else 
                    return "This round is a draw!";

            } else {
                return 'Something is not right. Please check your spelling!';
            }
        }


        //This function loops the playRound function 5 times and then declares a winner.

        function game() {

            for (i = 0; i <= 5; i++) {
                playRound(prompt("Rock, paper, scissors?"));
                alert('Computer: ' + computerScore + '. Player: ' + playerScore + ".");
            }

            if (playerScore > computerScore) {
                alert("You beat the computer! Good job.");
            } else if (playerScore < computerScore) {
                alert("You lost against the computer. Try again!")
            } else if (playerScore === computerScore) {
                alert("You came out equal against the computer!");
            }
        }

        game();


    </script>
    </body>
</html>